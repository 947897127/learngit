<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
	<meta http-equiv="Pragma" content="no-cache" />
	<meta http-equiv="Expires" content="0" />
	<meta name="x5-orientation" content="portrait">
	<link href="css/fenlei4.css" rel="stylesheet" type="text/css"/>
	<link href="css/reset.css" rel="stylesheet" type="text/css"/>
	<script src="js/jquery.js"></script>
	<title>Document</title>
	<style>
		.one{
			display: block;
		}
	</style>
</head>
<body>
	<div class="back-img">
		<nav>
			<ul>
				<li style="display: block;float: left;"></li>
				<div style="display: block;float: left; height: 100%;line-height: 2.25rem;padding: 0 0 0 1.5rem "><span>1</span>/<span>4</span></div>
			</ul>
		</nav>
		<div class="mifeng">
			<div class="mifeng-auto">	
				<img src="img/one.png" alt="">
				<div class="text"></div>
			</div>
		</div>
		<div class="danci">
			<div class="danci-auto">
				<div class="icon">
					<img src="img/bf.png" alt="">
				</div>
				<div class="danci-text">
					<p>Guess who i am?</p>
					<p>猜猜我是谁</p>
				</div>
			</div>
		</div>

		
		<div class="fenlei">
			<div class="fenlei-auto one" >
				<ul class="cai imgs">
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Nughty</p></div> -->
						<div class="imgs-dc"><img src="img/too scary.png" alt="" index="3" class="imgbc"></div>
						
					</li>
					<li class="flex-text border-a" >
						<!-- <div class="text-dc"><p>Too Scary</p></div> -->
						<div class="imgs-dc"><img src="img/too scary.png" alt="" index="0" class="imgbc"></div>
					</li>
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Tall</p></div> -->
						<div class="imgs-dc"><img src="img/too tall.png" alt="" index="1" class="imgbc"></div>
					</li>
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Grumpy</p></div> -->
						<div class="imgs-dc"><img src="img/too grumpy.png" alt="" index="2" class="imgbc"></div>
					</li>
				</ul>
				<ul class="cai fang">
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
				</ul>
				<ul class="cai tuo">
					<li class="flex-text touch one id">
						<div class="text-dc"><p index="3">Grumpy</p></div>
					</li>
					<li class="flex-text touch two id">
						<div class="text-dc"><p index="2">Snake</p></div>
					</li>
					<li class="flex-text touch tree id">
						<div class="text-dc"><p index="1">Giraffe</p></div>
					</li>
					<li class="flex-text touch front id">
						<div class="text-dc"><p index="0">camel</p></div>
					</li>
				</ul>
			</div>
			<!-- 第二 -->
			<div class="fenlei-auto" >
				<ul class="cai imgs">
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Nughty</p></div> -->
						<div class="imgs-dc"><img src="img/too scary.png" alt="" index="5" class="imgbc"></div>
						
					</li>
					<li class="flex-text border-a" >
						<!-- <div class="text-dc"><p>Too Scary</p></div> -->
						<div class="imgs-dc"><img src="img/too scary.png" alt="" index="6" class="imgbc"></div>
					</li>
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Tall</p></div> -->
						<div class="imgs-dc"><img src="img/too tall.png" alt="" index="7" class="imgbc"></div>
					</li>
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Grumpy</p></div> -->
						<div class="imgs-dc"><img src="img/too grumpy.png" alt="" index="8" class="imgbc"></div>
					</li>
				</ul>
				<ul class="cai fang">
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
				</ul>
				<ul class="cai tuo">
					<li class="flex-text touch one id">
						<div class="text-dc"><p index="5">Grumpy</p></div>
					</li>
					<li class="flex-text touch two id">
						<div class="text-dc"><p index="6">Snake</p></div>
					</li>
					<li class="flex-text touch tree id">
						<div class="text-dc"><p index="7">Giraffe</p></div>
					</li>
					<li class="flex-text touch front id">
						<div class="text-dc"><p index="8">camel</p></div>
					</li>
				</ul>
			</div>
			<!-- 第三 -->
				<div class="fenlei-auto" >
				<ul class="cai imgs">
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Nughty</p></div> -->
						<div class="imgs-dc"><img src="img/too scary.png" alt="" index="3" class="imgbc"></div>
						
					</li>
					<li class="flex-text border-a" >
						<!-- <div class="text-dc"><p>Too Scary</p></div> -->
						<div class="imgs-dc"><img src="img/too scary.png" alt="" index="0" class="imgbc"></div>
					</li>
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Tall</p></div> -->
						<div class="imgs-dc"><img src="img/too tall.png" alt="" index="1" class="imgbc"></div>
					</li>
					<li class="flex-text border-a">
						<!-- <div class="text-dc"><p>Too Grumpy</p></div> -->
						<div class="imgs-dc"><img src="img/too grumpy.png" alt="" index="2" class="imgbc"></div>
					</li>
				</ul>
				<ul class="cai fang">
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
					<li class="flex-text">
						<div class="input"><img src="img/kuang.png" alt="" ></div>
					</li>
				</ul>
				<ul class="cai tuo">
					<li class="flex-text touch one id">
						<div class="text-dc"><p index="3">Grumpy</p></div>
					</li>
					<li class="flex-text touch two id">
						<div class="text-dc"><p index="2">Snake</p></div>
					</li>
					<li class="flex-text touch tree id">
						<div class="text-dc"><p index="1">Giraffe</p></div>
					</li>
					<li class="flex-text touch front id">
						<div class="text-dc"><p index="0">camel</p></div>
					</li>
				</ul>
			</div>
		</div>
	</div>
</body>
<script>
$(function(){
	//监听屏幕大小
	 var width=$(window).width()
 	 var height=$(window).height()
 	 $(".back-img").css({
 	 	width:width,
 	 	height:height
 	 })	


 	 var id=$(".id");
 	 var input=$(".input")
 	 var imgbc=$(".imgbc")
 	 var a=$(".text-dc p")
 	 var ev,s,g;
 	 var f=0;
 	 var judge;
 	 var _x_start,_y_start,_x_move,_y_move,_x_end,_y_end,left_start,top_start;	

 	
 	 for (var i = 0; i < id.length; i++) {
 	 	id[i].index=i
 	 	//开始
 	 	id[i].addEventListener("touchstart",function(e){
 	 		_x_start=e.touches[0].pageX;
            _y_start=e.touches[0].pageY;
            left_start=$(".id").eq(this.index).css("left");
            top_start=$(".id").eq(this.index).css("top");

 	 	})


 	 	//运动中
 	 	id[i].addEventListener("touchmove",function(e){
 	 		_x_move=e.touches[0].pageX;
            _y_move=e.touches[0].pageY;
            $(".id").eq(this.index).css("left",parseFloat(_x_move)-parseFloat(_x_start)+parseFloat(left_start)+"px");
            $(".id").eq(this.index).css("top",parseFloat(_y_move)-parseFloat(_y_start)+parseFloat(top_start)+"px");
            ev=e.target

            console.log(ev)
 	 	})


 	 	//结束
 	 	id[i].addEventListener("touchend",function(e){
            _x_end=e.changedTouches[0].pageX;
            _y_end=e.changedTouches[0].pageY;

              judge=function(e) {
              	for (var i = 0; i < input.length; i++) {
              		if(_x_end<input.eq(i).offset().left + input.eq(i).width()&&_x_end>input.eq(i).offset().left){
           			return i
           		}          		
              	}
           		
           		}

           		
           		judge(e);      	

            	 s=a.eq(this.index).attr("index")
            	 console.log("index"+s)
            	 g=imgbc.eq(judge()).attr("index")
                 console.log("index"+g)
            		if(s===g){
            			//添加当前拖拽元素
						$(".input").eq(judge(e)).append(ev)
						//循环添加元素个数
							var p=$(".input p")	
						for (var k = 0; k < p.length; k++) {
								console.log(k)
									if(k>=3){
										// t=setTimeout(function(){
										$(".fenlei-auto").eq(f).css("display","none")	
 			 							$(".fenlei-auto").eq(f+1).css("display","block")
 			 							f++;			 							
 			 							$(".input p").remove()
									}
								}
						}else{
							$('.id').eq(this.index).css({left:left_start,top:top_start})
						}
        		})
 			 }       
        // //阻止浏览器下拉事件
        $('body').on('touchmove', function (event) {event.preventDefault();});

})

</script>
</html>